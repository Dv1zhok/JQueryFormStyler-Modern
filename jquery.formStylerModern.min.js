"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if((typeof exports==="undefined"?"undefined":_typeof(exports))==="object"){module.exports=e($||require("jquery"))}else{e(jQuery)}})(function(e){"use strict";var t="styler";var s="-"+t;var i={locale:navigator.browserLanguage||navigator.language||navigator.userLanguage||"en-US",select:{search:{limit:10},triggerHTML:'<div class="jq-selectbox__trigger-arrow"></div>',visibleOptions:0,smartPosition:true,onOpened:function r(){},onClosed:function d(){}},checkbox:{indeterminate:false},password:{switchHTML:'<button type="button" class="'+t+'"></button>'},onFormStyled:function c(){}};var o={"en-US":{file:{placeholder:"No file selected",browse:"Browse...",counter:"Selected files: %s"},select:{placeholder:"Select...",search:{notFound:"No matches found",placeholder:"Search..."}},password:{show:"&#10687;",hide:"&#10686;"}},"ru-RU":{file:{placeholder:"Файл не выбран",browse:"Обзор...",counter:"Выбрано файлов: %s"},select:{placeholder:"Выберите...",search:{notFound:"Совпадений не найдено",placeholder:"Поиск..."}}},"uk-UA":{file:{placeholder:"Файл не обрано",browse:"Огляд...",counter:"Обрано файлів: %s"},select:{placeholder:"Виберіть...",search:{notFound:"Збігів не знайдено",placeholder:"Пошук..."}}}};o["en"]=o["en-US"];o["ru"]=o["ru-RU"];o["ua"]=o["uk-UA"];function n(e){if(e.attr("id")!==undefined&&e.attr("id")!==""){this.id=e.attr("id")+s}this.title=e.attr("title");this.classes=e.attr("class");this.data=e.data()}function l(t,s){this.element=t;this.customElement=undefined;this.options=e.extend(true,{},i,s);var n=e.extend(true,{},o["en-US"],o[this.options.locale]);this.locales=e.extend(true,{},n,this.options.locales);this.init()}l.prototype={init:function h(){var i=this,o=e(this.element);var l=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)&&!navigator.userAgent.match(/(Windows\sPhone)/i),r=navigator.userAgent.match(/Android/i)&&!navigator.userAgent.match(/(Windows\sPhone)/i);if(o.is(":checkbox")){var d=function(){var s=function i(t,s,o){this.element=t;this.options=s;this.locale=o;var l=new n(this.element);this.checkbox=e('<div class="jq-checkbox"><div class="jq-checkbox__div"></div></div>').attr({id:l.id,title:l.title,unselectable:"on"}).addClass(l.classes).data(l.data);this.element.addClass("jq-hidden").after(this.checkbox).prependTo(this.checkbox);this.setEvents().repaint()};s.prototype={setEvents:function o(){var s=this,i=this.options,o=this.element,n=this.checkbox;n.on("repaint",function(){s.repaint()}).on("click",function(e){e.preventDefault();if(!n.is(".disabled")){if(o.is(":checked")||o.is(":indeterminate")){o.prop("checked",i.indeterminate&&o.is(":indeterminate"));o.prop("indeterminate",false)}else{if(i.indeterminate){o.prop("checked",false).prop("indeterminate",true)}else{o.prop("checked",true).prop("indeterminate",false)}}o.focus().trigger("change").triggerHandler("click")}});o.closest("label").add('label[for="'+this.element.attr("id")+'"]').on("click."+t,function(t){if(!e(t.target).is("a")&&!e(t.target).closest(n).length){n.triggerHandler("click");t.preventDefault()}});o.on("change."+t,function(){n.triggerHandler("repaint")}).on("keydown."+t,function(e){if(e.which===32){e.preventDefault();n.triggerHandler("click")}}).on("focus."+t,function(){if(!n.is(".disabled")){n.addClass("focused")}}).on("blur."+t,function(){n.removeClass("focused")});return this},repaint:function l(){var e=this.element,t=this.checkbox;if(e.is(":checked")||e.is(":indeterminate")){if(e.is(":indeterminate")){t.removeClass("checked").addClass("indeterminate")}else{t.removeClass("indeterminate").addClass("checked")}}else{t.removeClass("indeterminate").removeClass("checked")}t.toggleClass("disabled",e.is(":disabled"));return this},destroy:function a(){var e=this.element;e.off("."+t+", refresh").removeAttr("style").parent().before(e).remove();e.closest("label").add('label[for="'+e.attr("id")+'"]').off("."+t);return this}};return s}();this.customElement=new d(o,this.options.checkbox,this.locales.checkbox)}else if(o.is(":radio")){var c=function(){var s=function i(t,s,o){this.element=t;this.options=s;this.locale=o;var l=new n(this.element);this.radio=e('<div class="jq-radio"><div class="jq-radio__div"></div></div>').attr({id:l.id,title:l.title,unselectable:"on"}).addClass(l.classes).data(l.data);this.element.addClass("jq-hidden").after(this.radio).prependTo(this.radio);this.setEvents().repaint()};s.prototype={setEvents:function o(){var s=this,i=this.element,o=this.radio;o.on("repaint",function(){s.repaint()}).on("click",function(t){t.preventDefault();if(!o.is(".disabled")){var s=i.attr("name");var n=o.closest("#"+s).find('input[name="'+s+'"]:radio');if(n.length<=0){n=e("body").find('input[name="'+s+'"]:radio')}n.prop("checked",false).parent().removeClass("checked");i.prop("checked",true).focus().trigger("change").triggerHandler("click")}});i.on("change."+t,function(e){o.triggerHandler("repaint")}).on("keydown."+t,function(e){if(e.which===32){e.preventDefault();o.trigger("click")}}).on("focus."+t,function(){if(!o.is(".disabled")){o.addClass("focused")}}).on("blur."+t,function(){o.removeClass("focused")});i.closest("label").add('label[for="'+i.attr("id")+'"]').on("click."+t,function(t){if(!e(t.target).is("a")&&!e(t.target).closest(o).length){o.triggerHandler("click");t.preventDefault()}});return this},repaint:function l(){var e=this.element,t=this.radio;e.parent().toggleClass("checked",e.is(":checked"));t.toggleClass("disabled",e.is(":disabled"));return this},destroy:function a(){var e=this.element;e.off("."+t+", refresh").removeAttr("style").parent().before(e).remove();e.closest("label").add('label[for="'+e.attr("id")+'"]').off("."+t);return this}};return s}();this.customElement=new c(o,this.options.radio,this.locales.radio)}else if(o.is(":file")){var h=function(){var s=function i(t,s,o){this.element=t;this.options=s;this.locale=o;this.placeholderText=this.element.data("placeholder")||o["placeholder"];this.browseText=this.element.data("browse")||o["browse"];var l=new n(this.element);this.file=e('<div class="jq-file">'+'<div class="jq-file__name">'+this.placeholderText+"</div>"+'<div class="jq-file__browse">'+this.browseText+"</div>"+"</div>").attr({id:l.id,title:l.title}).addClass(l.classes).data(l.data);this.element.addClass("jq-hidden").after(this.file).appendTo(this.file);this.setEvents().repaint()};s.prototype={setEvents:function o(){var e=this,s=this.element,i=this.file;i.on("repaint",function(){e.repaint()});s.on("change."+t,function(){i.triggerHandler("repaint")}).on("focus."+t,function(){i.addClass("focused")}).on("blur."+t,function(){i.removeClass("focused")}).on("click."+t,function(){i.removeClass("focused")});return this},repaint:function l(){var t=this.element,s=this.file,i=this.options,o=e("div.jq-file__name",s);var n=t.val();if(t.is("[multiple]")){var l=t[0].files.length;if(l>0){n=(t.data("number")||i.counter).replace("%s",l)}else{n=""}}o.text(n.replace(/.+[\\\/]/,"")||this.placeholderText);s.toggleClass("changed",n!=="").toggleClass("disabled",t.is(":disabled"));return this},destroy:function a(){var e=this.element;e.off("."+t+", refresh").removeAttr("style").parent().before(e).remove();return this}};return s}();this.customElement=new h(o,this.options.file,this.locales.file)}else if(o.is('input[type="number"]')){var f=function(){var s=function i(t,s,o){this.element=t;this.options=s;this.locale=o;var l=new n(this.element);this.number=e('<div class="jq-number">'+'<div class="jq-number__spin minus"></div>'+'<div class="jq-number__spin plus"></div>'+"</div>").attr({id:l.id,title:l.title}).addClass(l.classes).data(l.data);this.element.after(this.number).prependTo(this.number).wrap('<div class="jq-number__field"></div>');this.setEvents().repaint()};s.prototype={setEvents:function o(){var s=this,i=this.element,o=this.number;var n=null,l=null;o.on("repaint",function(){s.repaint()}).on("mousedown","div.jq-number__spin",function(){if(i.is(":disabled")){return}var t=e(this);s.changeValue(t);n=setTimeout(function(){l=setInterval(function(){s.changeValue(t)},40)},350)}).on("mouseup mouseout","div.jq-number__spin",function(){if(i.is(":disabled")){return}clearTimeout(n);clearInterval(l)});i.on("focus."+t,function(){o.addClass("focused")}).on("blur."+t,function(){o.removeClass("focused")});return this},repaint:function l(){var e=this.element,t=this.number;t.toggleClass("disabled",e.is(":disabled"));return this},changeValue:function a(t){var s=this.element,i=this.number;var o=s.attr("min")||undefined,n=s.attr("max")||undefined,l=window.Number(s.attr("step"))||1;var a=e.isNumeric(s.val())?s.val():0,r=window.Number(a)+(t.is(".plus")?l:-l);var d=(l.toString().split(".")[1]||[]).length.prototype;var c="1";if(d>0){while(c.length<=d){c=c+"0"}r=Math.round(r*c)/c}if(e.isNumeric(o)&&e.isNumeric(n)){if(r>=o&&r<=n){s.val(r).change()}}else if(e.isNumeric(o)&&!e.isNumeric(n)){if(r>=o){s.val(r).change()}}else if(!e.isNumeric(o)&&e.isNumeric(n)){if(r<=n){s.val(r).change()}}else{s.val(r).change()}},destroy:function r(){var e=this.element;e.off("."+t+", refresh").closest(".jq-number").before(e).remove();return this}};return s}();this.customElement=new f(o,this.options.number,this.locales.number)}else if(o.is('input[type="password"]')&&this.options.password.switchHTML!==undefined&&this.options.password.switchHTML!=="none"){var u=function(){var s=function i(t,s,o){this.element=t;this.options=s;this.locale=o;var n=e('<div class="jq-password__switch">'+(this.options.switchHTML||"")+"</div>");this.password=e('<div class="jq-password">').append(n),this.button=n.children("button").length>0?n.children("button"):n;if(this.button.html()===""&&o["show"]!==""){this.button.html(o["show"]);if(n.children("button").length<=0){n.addClass("jq-password__switch-text")}}this.element.after(this.password).prependTo(this.password);this.setEvents().repaint()};s.prototype={setEvents:function o(){var s=this.locale,i=this.element,o=this.password,n=this.button;o.on("repaint",function(){o.toggleClass("disabled",i.is(":disabled"));n.prop("disabled",i.is(":disabled"))}).on("click",".jq-password__switch",function(){var t=e(this),o=t.closest(".jq-password"),l=o.is(".jq-password_seen");o.toggleClass("jq-password_seen",!l);if(s["show"]!==""&&s["hide"]!==""){n.html(l?s["show"]:s["hide"])}i.attr("type",l?"password":"text")});i.on("focus."+t,function(){o.addClass("focused")}).on("blur."+t,function(){o.removeClass("focused")});return this},repaint:function n(){var e=this.element,t=this.password,s=this.button;t.toggleClass("disabled",e.is(":disabled"));s.prop("disabled",e.is(":disabled"));return this},destroy:function l(){var e=this.element;e.off("."+t+", refresh").closest(".jq-password").before(e).remove();return this}};return s}();this.customElement=new u(o,this.options.password,this.locales.password)}else if(o.is('input[type="hidden"]')){return}else if(o.is("select")){var p=function(){var i=function o(t,s,i){this.element=t;this.options=s;this.locale=i;var o=new n(this.element),l=!t.data("search")||(s.search?true:false);var r=!l?"":'<div class="jq-selectbox__search">'+'<input type="search" autocomplete="off" placeholder="'+(t.data("search-placeholder")||i.search["placeholder"])+'">'+"</div>"+'<div class="jq-selectbox__not-found">'+(t.data("search-not-found")||i.search["notFound"])+"</div>";this.dropdown=e('<div class="jq-selectbox__dropdown" style="position: absolute">'+(r||"")+"</div>");this.selectbox=e('<div class="jq-selectbox jqselect">'+'<div class="jq-selectbox__select">'+'<div class="jq-selectbox__select-text"></div>'+'<div class="jq-selectbox__trigger">'+(s.triggerHTML||"")+"</div>"+"</div></div>").attr({id:o.id,title:o.title}).data(o.data).addClass(o.classes).append(this.dropdown);t.after(this.selectbox).prependTo(this.selectbox);this.selectboxSelect=e("div.jq-selectbox__select",this.selectbox);this.selectboxText=e("div.jq-selectbox__select-text",this.selectbox);this.loadDropdown();this.setEvents().repaint();if(!a.registered){e(document).on("click",a);a.registered=true}};i.prototype={loadDropdown:function r(){var t=this.element,s=this.options,i=this.selectbox,o=this.dropdown;var n=e("option",t),l=n.filter(":selected"),a=this.makeList(n);o.html(a);var r=e("li",o).css({display:"inline-block"}),d=r.filter(".selected");this.calculateDropdownWidth();t.addClass("jq-hidden");this.calculateDropdownHeight();o.hide();if(d.length){if(n.first().text()!==l.text()){i.addClass("changed")}i.data("jqfs-class",d.data("jqfs-class")).addClass(d.data("jqfs-class"))}return this},calculateDropdownWidth:function d(){var t=this.element,s=this.options,i=this.selectbox,o=this.selectboxText,n=this.dropdown;var l=e("li",n),a=e("div.jq-selectbox__not-found",n).hide();var r=0,d=0;if(l.length<s.search.limit){e("input",n).parent().hide()}l.each(function(){var t=e(this);if(t.innerWidth()>r){r=t.innerWidth();d=t.width()}});l.css({display:""});if(o.is(".placeholder")&&o.width()>r){o.width(o.width())}else{var c=i.clone().appendTo("body").width("auto");var h=c.outerWidth();c.remove();if(h===i.outerWidth()){o.width(d)}}if(r>i.width()){n.width(r)}if(e("option",t).first().text()===""&&t.data("placeholder")!==""){l.first().hide()}return this},calculateDropdownHeight:function c(){var t=this.element,s=this.selectbox,i=this.dropdown;var o=e("li",i);if(o.data("li-height")===undefined){o.data("li-height",o.outerHeight())}if(i.css("left")==="auto"){i.css({left:0})}if(i.css("top")==="auto"){i.css({top:s.outerHeight(true)||0})}return this},preventScrolling:function h(e){var t=e.prop("scrollHeight")-e.outerHeight();var s=null,i=null;e.off("mousewheel DOMMouseScroll").on("mousewheel DOMMouseScroll",function(o){s=o.originalEvent.detail<0||o.originalEvent.wheelDelta>0?1:-1;i=e.scrollTop();if(i>=t&&s<0||i<=0&&s>0){o.stopPropagation();o.preventDefault()}})},makeList:function f(t){var i=e("<ul>");for(var o=0;o<t.length;o++){var n=t.eq(o),l=(n.attr("id")||"")!==""?n.attr("id")+s:"",a=n.attr("title");var r=n.attr("class")||"";if(n.is(":selected")){r+=(r!==""?" ":"")+"selected sel"}if(n.is(":disabled")){r+=(r!==""?" ":"")+"disabled"}var d={title:a,data:n.data(),html:n.html()};if(l!==""){d["id"]=l}if(n.parent().is("optgroup")){var c="";if(n.parent().attr("class")!==undefined){c=" "+n.parent().attr("class")}if(n.is(":first-child")){e("<li>",{"class":"optgroup"+c,html:n.parent().attr("label")}).appendTo(i)}e("<li>",e.extend(d,{"class":"option"})).addClass(r).addClass(c).data("jqfs-class",n.attr("class")).appendTo(i)}else{e("<li>",d).addClass(r).data("jqfs-class",n.attr("class")).appendTo(i)}}return i},dropDown:function u(t,s,i,o,n){var l=e("input",this.dropdown).parent().outerHeight(true)||0;this.selectbox.removeClass("dropup").addClass("dropdown");var a=function r(){t.css("max-height",Math.floor((s-l-o)/o)*o)};a();t.css("max-height",n!=="none"&&n>0?n:i);if(s<this.dropdown.outerHeight()+o){a()}},dropUp:function p(t,s,i,o,n){var l=e("input",this.dropdown).parent().outerHeight(true)||0;this.selectbox.removeClass("dropdown").addClass("dropup");var a=function r(){t.css("max-height",Math.floor((s-e(window).scrollTop()-l-o)/o)*o)};a();t.css("max-height",n!=="none"&&n>0?n:i);if(s-e(window).scrollTop()-o<this.dropdown.outerHeight()+o){a()}},setEvents:function v(){var s=this,i=this.element,o=this.options,n=this.locale,a=this.selectbox,r=this.dropdown,d=this.selectboxSelect,c=this.selectboxText;var h=e("option",this.element),f=i.data("search")||(o.search?true:false),u=i.data("search-limit")||(o.search||{}).limit,p=i.data("smart-position")||o.smartPosition,v=i.data("search-not-found")||n.search["notFound"],m=i.data("search-placeholder")||n.search["placeholder"];var g=e("ul",r),b=e("li",r),w=e("input",r),x=e("div.jq-selectbox__not-found",r),C=a.outerHeight(true)||0,y=g.css("max-height")||0,q=C||0;a.on("repaint",function(){s.repaint()});d.on("click",function(){if(i.is(":disabled")){return}if(e("div.jq-selectbox").filter(".opened").length){o.onClosed.call(e("div.jq-selectbox").filter(".opened"))}i.focus();if(l){return}var t=b.data("li-height")||0;var n=i.data("visible-options")||o.visibleOptions,d=a.offset().top||0,c=e(window).height()-C-(d-e(window).scrollTop()),h=w.parent().outerHeight(true)||0,f=n===0?"auto":t*n,u=n>0&&n<6?f:t*5;if(o.smartPosition&&c<=u+h+20){s.dropUp(g,d,f,t,y)}else{s.dropDown(g,c,f,t,y)}if(a.offset().left+r.outerWidth()>e(window).width()){r.css({left:"auto",right:0})}e("div.jqselect").removeClass("opened");if(r.is(":hidden")){e("div.jq-selectbox__dropdown:visible").hide();r.show();a.addClass("opened focused");o.onOpened.call(a)}else{r.hide();a.removeClass("opened dropup dropdown");if(e("div.jq-selectbox").filter(".opened").length){o.onClosed.call(a)}}if(w.length){w.val("").focus().trigger("keyup");x.hide()}if(b.filter(".selected").length){if(i.val()===""){g.scrollTop(0)}else{if(g.innerHeight()/t%2!==0){t=t/2}g.scrollTop(g.scrollTop()+b.filter(".selected").position().top-g.innerHeight()/2+t)}}s.preventScrolling(g)});w.on("keyup",function(){var t=e(this).val();b.each(function(){var s=e(this).html().match(new RegExp(".*?"+t+".*?","i"));e(this).toggle(s?true:false)});if(h.first().text()===""&&i.data("placeholder")!==""){b.first().hide()}x.toggle(b.filter(":visible").length<1)});r.on("mouseout",function(){e("li.sel",r).addClass("selected")});b.on("hover",function(){e(this).siblings().removeClass("selected")}).on("click",function(){var t=e(this);if(t.is(".disabled, .optgroup")){return}i.focus();if(!t.is(".selected")){var s=t.index()-t.prevAll(".optgroup").length;h.prop("selected",false).eq(s).prop("selected",true);i.change()}r.hide();a.removeClass("opened dropup dropdown");o.onClosed.call(a)});i.on("change."+t,function(){a.triggerHandler("repaint")}).on("focus."+t,function(){a.addClass("focused");e("div.jqselect").not(".focused").removeClass("opened dropup dropdown").find("div.jq-selectbox__dropdown").hide()}).on("blur."+t,function(){a.removeClass("focused")}).on("keydown."+t+" keyup."+t,function(e){var t=b.data("li-height");if(e.which===38||e.which===37||e.which===33||e.which===36){if(i.val()===""){g.scrollTop(0)}else{g.scrollTop(g.scrollTop()+b.filter(".selected").position().top)}}if(e.which===40||e.which===39||e.which===34||e.which===35){g.scrollTop(g.scrollTop()+b.filter(".selected").position().top-g.innerHeight()+t)}if(e.which===13){e.preventDefault();r.hide();a.removeClass("opened dropup dropdown");o.onClosed.call(a)}}).on("keydown."+t,function(e){if(e.which===32){e.preventDefault();d.trigger("click")}});return this},repaint:function m(){var t=this.element,s=this.options,i=this.selectbox,o=this.dropdown,n=this.selectboxText;var l=e("option",t),a=e("li",o);var r=l.filter(":selected");if(r.val()===""){n.html(t.data("placeholder")||s.placeholder).addClass("placeholder")}else{n.html(r.html()).removeClass("placeholder")}if(i.data("jqfs-class")){i.removeClass(i.data("jqfs-class"))}i.data("jqfs-class",r.attr("class")).addClass(r.attr("class"));a.removeClass("selected sel").not(".optgroup").eq(t[0].selectedIndex).addClass("selected sel");a.removeClass("disabled").not(".optgroup").filter(function(e){return l.eq(e).is(":disabled")}).addClass("disabled");i.toggleClass("changed",l.first().text()!==a.filter(".selected").text());i.toggleClass("disabled",t.is(":disabled"));return this},destroy:function g(){this.element.off("."+t+", refresh").removeAttr("style").parent().before(this.element).remove();return this}};return i}();var v=function(){var i=function o(t,s,i){this.element=t;this.options=s;this.locale=i;var o=new n(this.element);this.selectbox=e('<div class="jq-select-multiple jqselect"></div>').attr({id:o.id,title:o.title}).addClass(o.classes).data(o.data);t.after(this.selectbox).prependTo(this.selectbox);this.loadList();var l=e("ul",this.selectbox),a=e("li",this.selectbox).attr("unselectable","on"),r=this.element.attr("size")||4,d=l.outerHeight()||0,c=a.outerHeight()||0;l.css({height:c*r});if(d>this.selectbox.height()){l.css("overflowY","scroll");this.preventScrolling(l);if(a.filter(".selected").length){l.scrollTop(l.scrollTop()+a.filter(".selected").position().top)}}this.element.addClass("jq-hidden");this.setEvents().repaint()};i.prototype={loadList:function a(){var t=this.element,s=this.options,i=this.selectbox;var o=e("option",t),n=this.makeList(o);i.html(n);return this},preventScrolling:function d(e){var t=e.prop("scrollHeight")-e.outerHeight();var s=null,i=null;e.off("mousewheel DOMMouseScroll").on("mousewheel DOMMouseScroll",function(o){s=o.originalEvent.detail<0||o.originalEvent.wheelDelta>0?1:-1;i=e.scrollTop();if(i>=t&&s<0||i<=0&&s>0){o.stopPropagation();o.preventDefault()}})},makeList:function c(t){var i=e("<ul>");for(var o=0;o<t.length;o++){var n=t.eq(o),l=(n.attr("id")||"")!==""?n.attr("id")+s:"",a=n.attr("title");var r=n.attr("class")||"";if(n.is(":selected")){r+=(r!==""?" ":"")+"selected sel"}if(n.is(":disabled")){r+=(r!==""?" ":"")+"disabled"}var d={title:a,data:n.data(),html:n.html()};if(l!==""){d["id"]=l}if(n.parent().is("optgroup")){var c="";if(n.parent().attr("class")!==undefined){c=" "+n.parent().attr("class")}if(n.is(":first-child")){e("<li>",{"class":"optgroup"+c,html:n.parent().attr("label")}).appendTo(i)}e("<li>",e.extend(d,{"class":"option"})).addClass(r).addClass(c).data("jqfs-class",n.attr("class")).appendTo(i)}else{e("<li>",d).addClass(r).data("jqfs-class",n.attr("class")).appendTo(i)}}return i},setEvents:function h(){var s=this,i=this.element,o=this.options,n=this.selectbox;var a=e("option",i),d=e("ul",n),c=e("li",n),h=d.outerHeight()||0,f=c.outerHeight()||0,u=r||l;n.on("repaint",function(){s.repaint()});c.on("click tap",function(t){var s=e(this);if(i.is(":disabled")||s.is(".disabled, .optgroup")){return}i.focus();if(!u&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey){s.siblings().removeClass("selected first")}if(!u&&!t.ctrlKey&&!t.metaKey){s.addClass("selected")}if(i.is("[multiple]")){if(!t.shiftKey){s.addClass("first")}if(u||t.ctrlKey||t.metaKey){s.toggleClass("selected first",!s.is(".selected")).siblings().removeClass("first")}else if(t.shiftKey){var o=false,n=false;s.siblings().removeClass("selected").siblings(".first").addClass("selected");s.prevAll().each(function(){o=o||e(this).is(".first")});s.nextAll().each(function(){n=n||e(this).is(".first")});if(o){s.prevAll().each(function(){if(e(this).is(".selected")){return false}else{e(this).not(".disabled, .optgroup").addClass("selected")}})}if(n){s.nextAll().each(function(){if(e(this).is(".selected")){return false}else{e(this).not(".disabled, .optgroup").addClass("selected")}})}if(c.filter(".selected").length===1){s.addClass("first")}}a.prop("selected",false);c.filter(".selected").each(function(){var t=e(this),s=t.index()-(t.is(".option")?t.prevAll(".optgroup").length:0);a.eq(s).prop("selected",true)})}i.change()});a.each(function(t){e(this).data("optionIndex",t)});i.on("change."+t,function(){n.triggerHandler("repaint")}).on("focus."+t,function(){n.addClass("focused")}).on("blur."+t,function(){n.removeClass("focused")});if(h>n.height()){i.on("keydown."+t,function(e){if(e.which===38||e.which===37||e.which===33){d.scrollTop(d.scrollTop()+c.filter(".selected").position().top-f)}if(e.which===40||e.which===39||e.which===34){d.scrollTop(d.scrollTop()+c.filter(".selected:last").position().top-d.innerHeight()+f*2)}})}return this},repaint:function f(){var t=this.element,s=this.options,i=this.selectbox;var o=e("option",t),n=e("ul",i),l=e("li",i);var a=[];o.filter(":selected").each(function(){a.push(e(this).data("optionIndex"))});l.removeClass("selected").not(".optgroup").filter(function(t){return e.inArray(t,a)>-1}).addClass("selected");l.removeClass("disabled").not(".optgroup").filter(function(e){return o.eq(e).is(":disabled")}).addClass("disabled");i.toggleClass("disabled",t.is(":disabled"))},destroy:function u(){}};return i}();if(o.is("[multiple]")||o.attr("size")>1){if(l){return}this.customElement=new v(o,this.options.select,this.locales.select)}else{this.customElement=new p(o,this.options.select,this.locales.select)}}else if(o.is("input")||o.is("textarea")||o.is("button")||o.is("a.button")){o.addClass(t)}else if(o.is(":reset")){o.on("click",function(){setTimeout(function(){o.closest("form").children().trigger("repaint")},1)})}o.on("refresh reinitialize",function(){i.reinitialize()})},destroy:function f(s){var i=e(this.element);if(!s){i.removeData("_"+t)}i.removeClass("jq-hidden");if(this.customElement!==undefined){this.customElement.destroy()}else if(i.is("select")){i.off("."+t+", refresh").removeAttr("style").parent().before(i).remove()}},reinitialize:function u(t){this.destroy(true);e.extend(this.options,t);e.extend(this.locales,this.options.locales);this.init()}};e.fn[t]=function(s){var i=arguments;if(s===undefined||(typeof s==="undefined"?"undefined":_typeof(s))==="object"){this.each(function(){if(!e.data(this,"_"+t)){e.data(this,"_"+t,new l(this,s))}else{e(this).styler("reinitialize")}}).promise().done(function(){var s=e(this[0]).data("_"+t);if(s){s.options.onFormStyled.call()}});return this}else if(typeof s==="string"&&s[0]!=="_"&&s!=="init"){var o=undefined;this.each(function(){var n=e.data(this,"_"+t);if(n instanceof l&&typeof n[s]==="function"){o=n[s].apply(n,Array.prototype.slice.call(i,1))}});return o!==undefined?o:this}};e.fn.commonParents=function(){var t=this;return t.first().parents().filter(function(){return e(this).find(t).length===t.length})};e.fn.commonParent=function(){return e(this).commonParents().first()};function a(s){if(!e(s.target).parents().hasClass("jq-selectbox")&&s.target.nodeName!=="OPTION"){if(e("div.jq-selectbox.opened").length){var i=e("div.jq-selectbox.opened"),o=e("div.jq-selectbox__search input",i),n=e("div.jq-selectbox__dropdown",i),l=i.find("select").data("_"+t).options.select||{};l.onClosed.call(i);if(o.length){o.val("").keyup()}n.hide().find("li.sel").addClass("selected");i.removeClass("focused opened dropup dropdown")}}}a.registered=false});