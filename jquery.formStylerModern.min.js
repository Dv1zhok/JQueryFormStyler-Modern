"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if((typeof exports==="undefined"?"undefined":_typeof(exports))==="object"){module.exports=e($||require("jquery"))}else{e(jQuery)}})(function(e){"use strict";var t="styler";var s="-"+t;var i={locale:navigator.browserLanguage||navigator.language||navigator.userLanguage||"en-US",select:{search:{limit:10},triggerHTML:'<div class="jq-selectbox__trigger-arrow"></div>',visibleOptions:0,smartPosition:true,onOpened:function a(){},onClosed:function d(){}},checkbox:{indeterminate:false},password:{switchHTML:'<button type="button" class="'+t+'"></button>'},onFormStyled:function c(){}};var o={"en-US":{file:{placeholder:"No file selected",browse:"Browse...",counter:"Selected files: %s"},select:{placeholder:"Select...",search:{notFound:"No matches found",placeholder:"Search..."}},password:{show:"&#10687;",hide:"&#10686;"}},"ru-RU":{file:{placeholder:"Файл не выбран",browse:"Обзор...",counter:"Выбрано файлов: %s"},select:{placeholder:"Выберите...",search:{notFound:"Совпадений не найдено",placeholder:"Поиск..."}}},"uk-UA":{file:{placeholder:"Файл не обрано",browse:"Огляд...",counter:"Обрано файлів: %s"},select:{placeholder:"Виберіть...",search:{notFound:"Збігів не знайдено",placeholder:"Пошук..."}}}};o["en"]=o["en-US"];o["ru"]=o["ru-RU"];o["ua"]=o["uk-UA"];function n(e){if(e.attr("id")!==undefined&&e.attr("id")!==""){this.id=e.attr("id")+s}this.title=e.attr("title");this.classes=e.attr("class");this.data=e.data()}function l(t,s){this.element=t;this.customElement=undefined;this.options=e.extend(true,{},i,s);var n=e.extend(true,{},o["en-US"],o[this.options.locale]);this.locales=e.extend(true,{},n,this.options.locales);this.init()}l.prototype={init:function h(){var i=this,o=e(this.element);var l=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)&&!navigator.userAgent.match(/(Windows\sPhone)/i),a=navigator.userAgent.match(/Android/i)&&!navigator.userAgent.match(/(Windows\sPhone)/i);if(o.is(":checkbox")){var d=function(){var s=function i(t,s,o){this.element=t;this.options=s;this.locale=o;var l=new n(this.element);this.checkbox=e('<div class="jq-checkbox"><div class="jq-checkbox__div"></div></div>').attr({id:l.id,title:l.title,unselectable:"on"}).addClass(l.classes).data(l.data);this.element.addClass("jq-hidden").after(this.checkbox).prependTo(this.checkbox);this.setEvents().repaint()};s.prototype={setEvents:function o(){var s=this,i=this.options,o=this.element,n=this.checkbox;n.on("repaint",function(){s.repaint()}).on("click",function(e){e.preventDefault();if(!n.is(".disabled")){if(o.is(":checked")||o.is(":indeterminate")){o.prop("checked",i.indeterminate&&o.is(":indeterminate"));o.prop("indeterminate",false)}else{if(i.indeterminate){o.prop("checked",false).prop("indeterminate",true)}else{o.prop("checked",true).prop("indeterminate",false)}}o.focus().trigger("change").triggerHandler("click")}});o.closest("label").add('label[for="'+this.element.attr("id")+'"]').on("click."+t,function(t){if(!e(t.target).is("a")&&!e(t.target).closest(n).length){n.triggerHandler("click");t.preventDefault()}});o.on("change."+t,function(){n.triggerHandler("repaint")}).on("keydown."+t,function(e){if(e.which===32){e.preventDefault();n.triggerHandler("click")}}).on("focus."+t,function(){if(!n.is(".disabled")){n.addClass("focused")}}).on("blur."+t,function(){n.removeClass("focused")});return this},repaint:function l(){var e=this.element,t=this.checkbox;if(e.is(":checked")||e.is(":indeterminate")){if(e.is(":indeterminate")){t.removeClass("checked").addClass("indeterminate")}else{t.removeClass("indeterminate").addClass("checked")}}else{t.removeClass("indeterminate").removeClass("checked")}t.toggleClass("disabled",e.is(":disabled"));return this},destroy:function r(){var e=this.element;e.off("."+t+", refresh").removeAttr("style").parent().before(e).remove();e.closest("label").add('label[for="'+e.attr("id")+'"]').off("."+t);return this}};return s}();this.customElement=new d(o,this.options.checkbox,this.locales.checkbox)}else if(o.is(":radio")){var c=function(){var s=function i(t,s,o){this.element=t;this.options=s;this.locale=o;var l=new n(this.element);this.radio=e('<div class="jq-radio"><div class="jq-radio__div"></div></div>').attr({id:l.id,title:l.title,unselectable:"on"}).addClass(l.classes).data(l.data);this.element.addClass("jq-hidden").after(this.radio).prependTo(this.radio);this.setEvents().repaint()};s.prototype={setEvents:function o(){var s=this,i=this.element,o=this.radio;o.on("repaint",function(){s.repaint()}).on("click",function(t){t.preventDefault();if(!o.is(".disabled")){var s=i.attr("name");var n=o.closest("#"+s).find('input[name="'+s+'"]:radio');if(n.length<=0){n=e("body").find('input[name="'+s+'"]:radio')}n.prop("checked",false).parent().removeClass("checked");i.prop("checked",true).focus().trigger("change").triggerHandler("click")}});i.on("change."+t,function(){o.triggerHandler("repaint")}).on("keydown."+t,function(e){if(e.which===32){e.preventDefault();o.trigger("click")}}).on("focus."+t,function(){if(!o.is(".disabled")){o.addClass("focused")}}).on("blur."+t,function(){o.removeClass("focused")});i.closest("label").add('label[for="'+i.attr("id")+'"]').on("click."+t,function(t){if(!e(t.target).is("a")&&!e(t.target).closest(o).length){o.triggerHandler("click");t.preventDefault()}});return this},repaint:function l(){var e=this.element,t=this.radio;e.parent().toggleClass("checked",e.is(":checked"));t.toggleClass("disabled",e.is(":disabled"));return this},destroy:function r(){var e=this.element;e.off("."+t+", refresh").removeAttr("style").parent().before(e).remove();e.closest("label").add('label[for="'+e.attr("id")+'"]').off("."+t);return this}};return s}();this.customElement=new c(o,this.options.radio,this.locales.radio)}else if(o.is(":file")){var h=function(){var s=function i(t,s,o){this.element=t;this.options=s;this.locale=o;this.placeholderText=this.element.data("placeholder")||o["placeholder"];this.browseText=this.element.data("browse")||o["browse"];var l=new n(this.element);this.file=e('<div class="jq-file">'+'<div class="jq-file__name">'+this.placeholderText+"</div>"+'<div class="jq-file__browse">'+this.browseText+"</div>"+"</div>").attr({id:l.id,title:l.title}).addClass(l.classes).data(l.data);this.element.addClass("jq-hidden").after(this.file).appendTo(this.file);this.setEvents().repaint()};s.prototype={setEvents:function o(){var e=this,s=this.element,i=this.file;i.on("repaint",function(){e.repaint()});s.on("change."+t,function(){i.triggerHandler("repaint")}).on("focus."+t,function(){i.addClass("focused")}).on("blur."+t,function(){i.removeClass("focused")}).on("click."+t,function(){i.removeClass("focused")});return this},repaint:function l(){var t=this.element,s=this.file,i=this.options,o=e("div.jq-file__name",s);var n=t.val();if(t.is("[multiple]")){var l=t[0].files.length;if(l>0){n=(t.data("number")||i.counter).replace("%s",l)}else{n=""}}o.text(n.replace(/.+[\\\/]/,"")||this.placeholderText);s.toggleClass("changed",n!=="").toggleClass("disabled",t.is(":disabled"));return this},destroy:function r(){var e=this.element;e.off("."+t+", refresh").removeAttr("style").parent().before(e).remove();return this}};return s}();this.customElement=new h(o,this.options.file,this.locales.file)}else if(o.is('input[type="number"]')){var f=function(){var s=function i(t,s,o){this.element=t;this.options=s;this.locale=o;var l=new n(this.element);this.number=e('<div class="jq-number">'+'<div class="jq-number__spin minus"></div>'+'<div class="jq-number__spin plus"></div>'+"</div>").attr({id:l.id,title:l.title}).addClass(l.classes).data(l.data);this.element.after(this.number).prependTo(this.number).wrap('<div class="jq-number__field"></div>');this.setEvents().repaint()};s.prototype={setEvents:function o(){var s=this,i=this.element,o=this.number;var n=null,l=null;o.on("repaint",function(){s.repaint()}).on("mousedown","div.jq-number__spin",function(){if(i.is(":disabled")){return}var t=e(this);s.changeValue(t);n=setTimeout(function(){l=setInterval(function(){s.changeValue(t)},40)},350)}).on("mouseup mouseout","div.jq-number__spin",function(){if(i.is(":disabled")){return}clearTimeout(n);clearInterval(l)});i.on("focus."+t,function(){o.addClass("focused")}).on("blur."+t,function(){o.removeClass("focused")});return this},repaint:function l(){this.number.toggleClass("disabled",this.element.is(":disabled"));return this},changeValue:function r(t){var s=this.element;var i=s.attr("min")||undefined,o=s.attr("max")||undefined,n=parseFloat(s.attr("step"))||1;var l=e.isNumeric(s.val())?s.val():0,r=parseFloat(l)+(t.is(".plus")?n:-n);var a=(n.toString().split(".")[1]||[]).length.prototype;var d="1";if(a>0){while(d.length<=a){d=d+"0"}r=Math.round(r*d)/d}if(e.isNumeric(i)&&e.isNumeric(o)){if(r>=i&&r<=o){s.val(r).change()}}else if(e.isNumeric(i)&&!e.isNumeric(o)){if(r>=i){s.val(r).change()}}else if(!e.isNumeric(i)&&e.isNumeric(o)){if(r<=o){s.val(r).change()}}else{s.val(r).change()}},destroy:function a(){var e=this.element;e.off("."+t+", refresh").closest(".jq-number").before(e).remove();return this}};return s}();this.customElement=new f(o,this.options.number,this.locales.number)}else if(o.is('input[type="password"]')&&this.options.password.switchHTML!==undefined&&this.options.password.switchHTML!=="none"){var u=function(){var s=function i(t,s,o){this.element=t;this.options=s;this.locale=o;var n=e('<div class="jq-password__switch">'+(this.options.switchHTML||"")+"</div>");this.password=e('<div class="jq-password">').append(n);this.button=n.children("button").length>0?n.children("button"):n;if(this.button.html()===""&&o["show"]!==""){this.button.html(o["show"]);if(n.children("button").length<=0){n.addClass("jq-password__switch-text")}}this.element.after(this.password).prependTo(this.password);this.setEvents().repaint()};s.prototype={setEvents:function o(){var s=this.locale,i=this.element,o=this.password,n=this.button;o.on("repaint",function(){o.toggleClass("disabled",i.is(":disabled"));n.prop("disabled",i.is(":disabled"))}).on("click",".jq-password__switch",function(){var t=e(this),o=t.closest(".jq-password"),l=o.is(".jq-password_seen");o.toggleClass("jq-password_seen",!l);if(s["show"]!==""&&s["hide"]!==""){n.html(l?s["show"]:s["hide"])}i.attr("type",l?"password":"text")});i.on("focus."+t,function(){o.addClass("focused")}).on("blur."+t,function(){o.removeClass("focused")});return this},repaint:function n(){var e=this.element,t=this.password,s=this.button;t.toggleClass("disabled",e.is(":disabled"));s.prop("disabled",e.is(":disabled"));return this},destroy:function l(){var e=this.element;e.off("."+t+", refresh").closest(".jq-password").before(e).remove();return this}};return s}();this.customElement=new u(o,this.options.password,this.locales.password)}else if(o.is('input[type="hidden"]')){return}else if(o.is("select")){var p=function(){return{preventScrolling:function t(e){var t=e.prop("scrollHeight")-e.outerHeight();var s=null,i=null;e.off("mousewheel DOMMouseScroll").on("mousewheel DOMMouseScroll",function(o){s=o.originalEvent.detail<0||o.originalEvent.wheelDelta>0?1:-1;i=e.scrollTop();if(i>=t&&s<0||i<=0&&s>0){o.stopPropagation();o.preventDefault()}});return this},makeList:function i(t){var i=e("<ul>");for(var o=0;o<t.length;o++){var n=t.eq(o),l=(n.attr("id")||"")!==""?n.attr("id")+s:"",r=n.attr("title");var a=n.attr("class")||"";if(n.is(":selected")){a+=(a!==""?" ":"")+"selected sel"}if(n.is(":disabled")){a+=(a!==""?" ":"")+"disabled"}var d={title:r,data:n.data(),html:n.html()};if(l!==""){d["id"]=l}if(n.parent().is("optgroup")){var c="";if(n.parent().attr("class")!==undefined){c=" "+n.parent().attr("class")}if(n.is(":first-child")){e("<li>",{"class":"optgroup"+c,html:n.parent().attr("label")}).appendTo(i)}e("<li>",e.extend(d,{"class":"option"})).addClass(a).addClass(c).data("jqfs-class",n.attr("class")).appendTo(i)}else{e("<li>",d).addClass(a).data("jqfs-class",n.attr("class")).appendTo(i)}}return i}}}();var v=function(){var s=function i(t,s,o){this.element=t;this.options=s;this.locale=o;var l=new n(this.element);this.dropdown=e('<div class="jq-selectbox__dropdown" style="position: absolute">'+"</div>");this.selectbox=e('<div class="jq-selectbox jqselect">'+'<div class="jq-selectbox__select">'+'<div class="jq-selectbox__select-text"></div>'+'<div class="jq-selectbox__trigger">'+(s.triggerHTML||"")+"</div>"+"</div></div>").attr({id:l.id,title:l.title}).data(l.data).addClass(l.classes).append(this.dropdown);t.after(this.selectbox).prependTo(this.selectbox);this.selectboxSelect=e("div.jq-selectbox__select",this.selectbox);this.selectboxText=e("div.jq-selectbox__select-text",this.selectbox);this.loadDropdown();this.setEvents().repaint();t.addClass("jq-hidden");if(!r.registered){e(document).on("click",r);r.registered=true}};s.prototype={loadDropdown:function o(){var t=this.element,s=this.options,i=this.locale,o=this.selectbox,n=this.dropdown;var l=e("option",t),r=l.filter(":selected"),a=p.makeList(l),d=!t.data("search")||(s.search?true:false),c=t.data("search-limit")||(s.search||{}).limit;n.html("").append(a);var h=e("li",n).css({display:"inline-block"}),f=h.filter(".selected");if(n.css("left")==="auto"){n.css({left:0})}this.calculateDropdownWidth();this.calculateDropdownHeight();if(d&&h.length>c){var u=e('<div class="jq-selectbox__search">'+'<input type="search" autocomplete="off" placeholder="'+(t.data("search-placeholder")||i.search["placeholder"])+'">'+"</div>"+'<div class="jq-selectbox__not-found">'+(t.data("search-not-found")||i.search["notFound"])+"</div>");n.prepend(u)}n.hide();if(f.length){if(l.first().text()!==r.text()){o.addClass("changed")}o.data("jqfs-class",f.data("jqfs-class")).addClass(f.data("jqfs-class"))}return this},calculateDropdownWidth:function a(){var t=this.element,s=this.selectbox,i=this.selectboxText,o=this.dropdown;var n=e("li",o);var l=0,r=0;n.each(function(){var t=e(this);if(t.innerWidth()>l){l=t.innerWidth();r=t.width()}});n.css({display:""});if(i.is(".placeholder")&&i.width()>l){i.width(i.width())}else{var a=s.clone().appendTo("body").width("auto");var d=a.outerWidth();a.remove();if(d===s.outerWidth()){i.width(r)}}if(l>s.width()){o.width(l)}if(e("option",t).first().text()===""&&t.data("placeholder")!==""){n.first().hide()}return this},calculateDropdownHeight:function d(){var t=this.selectbox,s=this.dropdown;var i=e("li",s);if(i.data("li-height")===undefined){i.data("li-height",i.outerHeight())}if(s.css("top")==="auto"){s.css({top:t.outerHeight(true)||0})}return this},dropDown:function c(t,s,i,o,n){var l=e("input",this.dropdown).parent().outerHeight(true)||0;this.selectbox.removeClass("dropup").addClass("dropdown");var r=function a(){t.css("max-height",Math.floor((s-l-o)/o)*o)};r();t.css("max-height",n!=="none"&&parseInt(n)>0?parseInt(n):i);if(s<this.dropdown.outerHeight()+o){r()}},dropUp:function h(t,s,i,o,n){var l=e("input",this.dropdown).parent().outerHeight(true)||0;this.selectbox.removeClass("dropdown").addClass("dropup");var r=function a(){t.css("max-height",Math.floor((s-e(window).scrollTop()-l-o)/o)*o)};r();t.css("max-height",n!=="none"&&n>0?n:i);if(s-e(window).scrollTop()-o<this.dropdown.outerHeight()+o){r()}},setEvents:function f(){var s=this,i=this.element,o=this.options,n=this.selectbox,r=this.dropdown,a=this.selectboxSelect,d=this.selectboxText;var c=e("option",this.element),h=i.data("smart-position")||o.smartPosition;var f=e("ul",r),u=e("li",r),v=e("input",r),m=e("div.jq-selectbox__not-found",r),g=n.outerHeight(true)||0,b=f.css("max-height")||0,w=g||0;n.on("repaint",function(){s.repaint()});a.on("click",function(){if(i.is(":disabled")){return}if(e("div.jq-selectbox").filter(".opened").length){o.onClosed.call(e("div.jq-selectbox").filter(".opened"))}i.focus();if(l){return}var t=u.data("li-height")||0;var a=i.data("visible-options")||o.visibleOptions,d=n.offset().top||0,c=e(window).height()-g-(d-e(window).scrollTop()),w=v.parent().outerHeight(true)||0,x=a===0?"auto":t*a,C=a>0&&a<6?x:t*5;if(r.is(":hidden")){e("div.jqselect").removeClass("opened");e("div.jq-selectbox__dropdown:visible").hide();r.show();n.addClass("opened focused");if(h&&c<=C+w+t){s.dropUp(f,d,x,t,b)}else{s.dropDown(f,c,x,t,b)}if(n.offset().left+r.outerWidth()>e(window).width()){r.css({left:"auto",right:0})}o.onOpened.call(n)}else{r.hide();n.removeClass("opened dropup dropdown");if(e("div.jq-selectbox").filter(".opened").length){o.onClosed.call(n)}}if(v.length){v.val("").focus().trigger("keyup");m.hide()}if(u.filter(".selected").length){if(i.val()===""){f.scrollTop(0)}else{if(f.innerHeight()/t%2!==0){t=t/2}f.scrollTop(f.scrollTop()+u.filter(".selected").position().top-f.innerHeight()/2+t)}}p.preventScrolling(f)});v.on("keyup",function(){var t=e(this).val();u.each(function(){var s=e(this).html().match(new RegExp(".*?"+t+".*?","i"));e(this).toggle(s?true:false)});if(c.first().text()===""&&i.data("placeholder")!==""){u.first().hide()}m.toggle(u.filter(":visible").length<1)});r.on("mouseout",function(){e("li.sel",r).addClass("selected")});u.on("hover",function(){e(this).siblings().removeClass("selected")}).on("click",function(){var t=e(this);if(t.is(".disabled, .optgroup")){return}i.focus();if(!t.is(".selected")){var s=t.index()-t.prevAll(".optgroup").length;c.prop("selected",false).eq(s).prop("selected",true);i.change()}r.hide();n.removeClass("opened dropup dropdown");o.onClosed.call(n)});i.on("change."+t,function(){n.triggerHandler("repaint")}).on("focus."+t,function(){n.addClass("focused");e("div.jqselect").not(".focused").removeClass("opened dropup dropdown").find("div.jq-selectbox__dropdown").hide()}).on("blur."+t,function(){n.removeClass("focused")}).on("keydown."+t+" keyup."+t,function(e){var t=u.data("li-height");if(e.which===38||e.which===37||e.which===33||e.which===36){if(i.val()===""){f.scrollTop(0)}else{f.scrollTop(f.scrollTop()+u.filter(".selected").position().top)}}if(e.which===40||e.which===39||e.which===34||e.which===35){f.scrollTop(f.scrollTop()+u.filter(".selected").position().top-f.innerHeight()+t)}if(e.which===13){e.preventDefault();r.hide();n.removeClass("opened dropup dropdown");o.onClosed.call(n)}}).on("keydown."+t,function(e){if(e.which===32){e.preventDefault();a.trigger("click")}});return this},repaint:function u(){var t=this.element,s=this.options,i=this.selectbox,o=this.dropdown,n=this.selectboxText;var l=e("option",t),r=e("li",o);var a=l.filter(":selected");if(a.val()===""){n.html(t.data("placeholder")||s.placeholder).addClass("placeholder")}else{n.html(a.html()).removeClass("placeholder")}if(i.data("jqfs-class")){i.removeClass(i.data("jqfs-class"))}i.data("jqfs-class",a.attr("class")).addClass(a.attr("class"));r.removeClass("selected sel").not(".optgroup").eq(t[0].selectedIndex).addClass("selected sel");r.removeClass("disabled").not(".optgroup").filter(function(e){return l.eq(e).is(":disabled")}).addClass("disabled");i.toggleClass("changed",l.first().text()!==r.filter(".selected").text());i.toggleClass("disabled",t.is(":disabled"));return this},destroy:function v(){this.element.off("."+t+", refresh").removeAttr("style").parent().before(this.element).remove();return this}};return s}();var m=function(){var s=function i(t,s,o){this.element=t;this.options=s;this.locale=o;var l=new n(this.element);this.selectbox=e('<div class="jq-select-multiple jqselect"></div>').attr({id:l.id,title:l.title}).addClass(l.classes).data(l.data);t.after(this.selectbox).prependTo(this.selectbox);this.loadList();var r=e("ul",this.selectbox),a=e("li",this.selectbox).attr("unselectable","on"),d=this.element.attr("size")||4,c=r.outerHeight()||0,h=a.outerHeight()||0;r.css({height:h*d});if(c>this.selectbox.height()){r.css("overflowY","scroll");p.preventScrolling(r);if(a.filter(".selected").length){r.scrollTop(r.scrollTop()+a.filter(".selected").position().top)}}this.element.addClass("jq-hidden");this.setEvents().repaint()};s.prototype={loadList:function o(){var t=this.element,s=this.selectbox;var i=e("option",t),o=p.makeList(i);s.html(o);return this},setEvents:function r(){var s=this,i=this.element,o=this.selectbox;var n=e("option",i),r=e("ul",o),d=e("li",o),c=r.outerHeight()||0,h=d.outerHeight()||0,f=a||l;o.on("repaint",function(){s.repaint()});d.on("click tap",function(t){var s=e(this);if(i.is(":disabled")||s.is(".disabled")){return}i.focus();if(f&&!i.is("[multiple]")||!f&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey){s.siblings().removeClass("selected first")}if(f&&!i.is("[multiple]")||!f&&!t.ctrlKey&&!t.metaKey){s.addClass("selected")}if(i.is("[multiple]")&&s.is(".optgroup")){var o=s.nextUntil(".optgroup");o.each(function(){if(!e(this).is(".disabled, .optgroup")){if(e(this).is(".first")){e(this).removeClass("first")}e(this).toggleClass("selected")}})}else if(i.is("[multiple]")){if(!t.shiftKey){s.addClass("first")}if(f||t.ctrlKey||t.metaKey){s.toggleClass("selected first",!s.is(".selected")).siblings().removeClass("first")}else if(t.shiftKey){var l=function r(){if(e(this).is(".selected")){return false}else{e(this).not(".disabled, .optgroup").addClass("selected")}};s.siblings().removeClass("selected").siblings(".first").addClass("selected");if(s.prevAll(".first").length>0){s.prevAll().each(l)}if(s.nextAll(".first").length>0){s.nextAll().each(l)}if(d.filter(".selected").length===1){s.addClass("first")}}}n.prop("selected",false);d.filter(".selected").each(function(){var t=e(this),s=t.index()-(t.is(".option")?t.prevAll(".optgroup").length:0);n.eq(s).prop("selected",true)});i.change()});n.each(function(t){e(this).data("optionIndex",t)});i.on("change."+t,function(){o.triggerHandler("repaint")}).on("focus."+t,function(){o.addClass("focused")}).on("blur."+t,function(){o.removeClass("focused")});if(c>o.height()){i.on("keydown."+t,function(e){if(e.which===38||e.which===37||e.which===33){r.scrollTop(r.scrollTop()+d.filter(".selected").position().top-h)}if(e.which===40||e.which===39||e.which===34){r.scrollTop(r.scrollTop()+d.filter(".selected:last").position().top-r.innerHeight()+h*2)}})}return this},repaint:function d(){var t=this.element,s=this.selectbox;var i=e("option",t),o=e("li",s);var n=[];i.filter(":selected").each(function(){n.push(e(this).data("optionIndex"))});o.removeClass("selected").not(".optgroup").filter(function(t){return e.inArray(t,n)>-1}).addClass("selected");o.removeClass("disabled").not(".optgroup").filter(function(e){return i.eq(e).is(":disabled")}).addClass("disabled");s.toggleClass("disabled",t.is(":disabled"))},destroy:function c(){this.element.off("."+t+", refresh").removeAttr("style").parent().before(this.element).remove()}};return s}();if(o.is("[multiple]")||o.attr("size")>1){this.customElement=new m(o,this.options.select,this.locales.select)}else{this.customElement=new v(o,this.options.select,this.locales.select)}}else if(o.is("input")||o.is("textarea")||o.is("button")||o.is("a.button")){o.addClass(t);if(o.is('input[type="reset"]')){o.on("click",function(){setTimeout(function(){o.closest("form").children().trigger("repaint")},1)})}}o.on("refresh reinitialize",function(){i.reinitialize()})},destroy:function f(s){var i=e(this.element);if(!s){i.removeData("_"+t)}i.removeClass("jq-hidden");if(this.customElement!==undefined){this.customElement.destroy()}else if(i.is("select")){i.off("."+t+", refresh").removeAttr("style").parent().before(i).remove()}},reinitialize:function u(t){this.destroy(true);e.extend(this.options,t);e.extend(this.locales,this.options.locales);this.init()}};e.fn[t]=function(s){var i=arguments;if(s===undefined||(typeof s==="undefined"?"undefined":_typeof(s))==="object"){this.each(function(){if(!e.data(this,"_"+t)){e.data(this,"_"+t,new l(this,s))}else{e(this).styler("reinitialize")}}).promise().done(function(){var s=e(this[0]).data("_"+t);if(s){s.options.onFormStyled.call()}});return this}else if(typeof s==="string"&&s[0]!=="_"&&s!=="init"){var o=undefined;this.each(function(){var n=e.data(this,"_"+t);if(n instanceof l&&typeof n[s]==="function"){o=n[s].apply(n,Array.prototype.slice.call(i,1))}});return o!==undefined?o:this}};e.fn.commonParents=function(){var t=this;return t.first().parents().filter(function(){return e(this).find(t).length===t.length})};e.fn.commonParent=function(){return e(this).commonParents().first()};function r(s){if(!e(s.target).parents().hasClass("jq-selectbox")&&s.target.nodeName!=="OPTION"){if(e("div.jq-selectbox.opened").length){var i=e("div.jq-selectbox.opened"),o=e("div.jq-selectbox__search input",i),n=e("div.jq-selectbox__dropdown",i),l=i.find("select").data("_"+t).options.select||{};l.onClosed.call(i);if(o.length){o.val("").keyup()}n.hide().find("li.sel").addClass("selected");i.removeClass("focused opened dropup dropdown")}}}r.registered=false});